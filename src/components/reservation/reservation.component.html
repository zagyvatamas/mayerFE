<app-navbar></app-navbar>

<div class="middle">
  <h2>Időpontfoglalás</h2>
</div>

<div class="middle">
  <label>
    Dátum:
    <input type="date" [(ngModel)]="date" (change)="loadAvailability()" />
  </label>
</div>


<div class="middle">
  <h2>Szolgáltatás:</h2>
</div>
<div class="middle">
  <select class="form-select" style="width: 20%;" [(ngModel)]="serviceId">
    <option [ngValue]="null" disabled selected>Válassz egy szolgáltatást</option>
    <option *ngFor="let service of serviceData" [ngValue]="service.id">
      {{ service.name }}
    </option>
  </select>
</div>


<div class="middle pt-2 pb-2">
  <h3>Elérhető időpontok:</h3>
</div>
<div class="middle">
  <ul class="list-inline">
    <li class="list-inline-item" *ngFor="let time of availableTimes">
      <label class="btn btn-outline-primary">
        <input
          type="radio"
          name="time"
          [value]="time"
          [(ngModel)]="selectedTime"
          autocomplete="off"
        />
        {{ time }}
      </label>
    </li>
  </ul>
</div>

<div class="middle">
  <button (click)="bookAppointment()" [disabled]="hasExistingAppointment">
    Foglalás
  </button>
</div>

<div class="middle pt-5" *ngIf="hasExistingAppointment" style="color: red;">
  Már van egy aktív foglalásod! Egyszerre csak egy időpontot foglalhatsz!
</div>